import{bl as pt,k as V,aM as vt,a6 as ot,q as C,o as Q,b as $t,w as g,p,m as c,z as B,bj as st,ba as X,c as at,a as lt,F as ut,$ as _t,a0 as gt,x as Y,be as xt,b7 as ct,j as yt,a1 as Vt}from"./index.765b4f7c.js";import{a as wt,m as Mt}from"./requestURL.e234a58b.js";import{V as tt}from"./VBtn.bed821b9.js";import{V as dt}from"./VSpacer.52c5364c.js";import{V as Dt}from"./VTextField.d4c5c89c.js";import{V as ft}from"./VSelect.6920cd46.js";import{V as ht}from"./scopeId.fa70d95f.js";import{V as bt,a as St}from"./VTable.cc1447c2.js";import{V as It}from"./VMenu.a10eb0bc.js";import{V as Ct,a as Ot,b as Tt}from"./VList.cee23a0a.js";import"./axios.364130a5.js";import"./index.5e39d728.js";import"./forwardRefs.54bb1675.js";import"./VChip.a7580a62.js";var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mt={exports:{}};(function(F,it){(function(D,O){F.exports=O()})(kt,function(){var D=1e3,O=6e4,T=36e5,H="millisecond",k="second",y="minute",b="hour",$="day",w="week",x="month",J="quarter",M="year",L="date",R="Invalid Date",Z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,et=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,rt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var e=["th","st","nd","rd"],t=a%100;return"["+a+(e[(t-20)%10]||e[t]||e[0])+"]"}},q=function(a,e,t){var i=String(a);return!i||i.length>=e?a:""+Array(e+1-i.length).join(t)+a},G={s:q,z:function(a){var e=-a.utcOffset(),t=Math.abs(e),i=Math.floor(t/60),s=t%60;return(e<=0?"+":"-")+q(i,2,"0")+":"+q(s,2,"0")},m:function a(e,t){if(e.date()<t.date())return-a(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,x),l=t-s<0,o=e.clone().add(i+(l?-1:1),x);return+(-(i+(t-s)/(l?s-o:o-s))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:x,y:M,w,d:$,D:L,h:b,m:y,s:k,ms:H,Q:J}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},E="en",S={};S[E]=rt;var U=function(a){return a instanceof r},j=function a(e,t,i){var s;if(!e)return E;if(typeof e=="string"){var l=e.toLowerCase();S[l]&&(s=l),t&&(S[l]=t,s=l);var o=e.split("-");if(!s&&o.length>1)return a(o[0])}else{var u=e.name;S[u]=e,s=u}return!i&&s&&(E=s),s||!i&&E},f=function(a,e){if(U(a))return a.clone();var t=typeof e=="object"?e:{};return t.date=a,t.args=arguments,new r(t)},n=G;n.l=j,n.i=U,n.w=function(a,e){return f(a,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var r=function(){function a(t){this.$L=j(t.locale,null,!0),this.parse(t)}var e=a.prototype;return e.parse=function(t){this.$d=function(i){var s=i.date,l=i.utc;if(s===null)return new Date(NaN);if(n.u(s))return new Date;if(s instanceof Date)return new Date(s);if(typeof s=="string"&&!/Z$/i.test(s)){var o=s.match(Z);if(o){var u=o[2]-1||0,m=(o[7]||"0").substring(0,3);return l?new Date(Date.UTC(o[1],u,o[3]||1,o[4]||0,o[5]||0,o[6]||0,m)):new Date(o[1],u,o[3]||1,o[4]||0,o[5]||0,o[6]||0,m)}}return new Date(s)}(t),this.$x=t.x||{},this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return n},e.isValid=function(){return this.$d.toString()!==R},e.isSame=function(t,i){var s=f(t);return this.startOf(i)<=s&&s<=this.endOf(i)},e.isAfter=function(t,i){return f(t)<this.startOf(i)},e.isBefore=function(t,i){return this.endOf(i)<f(t)},e.$g=function(t,i,s){return n.u(t)?this[i]:this.set(s,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,i){var s=this,l=!!n.u(i)||i,o=n.p(t),u=function(W,_){var A=n.w(s.$u?Date.UTC(s.$y,_,W):new Date(s.$y,_,W),s);return l?A:A.endOf($)},m=function(W,_){return n.w(s.toDate()[W].apply(s.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(_)),s)},d=this.$W,v=this.$M,N=this.$D,I="set"+(this.$u?"UTC":"");switch(o){case M:return l?u(1,0):u(31,11);case x:return l?u(1,v):u(0,v+1);case w:var P=this.$locale().weekStart||0,z=(d<P?d+7:d)-P;return u(l?N-z:N+(6-z),v);case $:case L:return m(I+"Hours",0);case b:return m(I+"Minutes",1);case y:return m(I+"Seconds",2);case k:return m(I+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,i){var s,l=n.p(t),o="set"+(this.$u?"UTC":""),u=(s={},s[$]=o+"Date",s[L]=o+"Date",s[x]=o+"Month",s[M]=o+"FullYear",s[b]=o+"Hours",s[y]=o+"Minutes",s[k]=o+"Seconds",s[H]=o+"Milliseconds",s)[l],m=l===$?this.$D+(i-this.$W):i;if(l===x||l===M){var d=this.clone().set(L,1);d.$d[u](m),d.init(),this.$d=d.set(L,Math.min(this.$D,d.daysInMonth())).$d}else u&&this.$d[u](m);return this.init(),this},e.set=function(t,i){return this.clone().$set(t,i)},e.get=function(t){return this[n.p(t)]()},e.add=function(t,i){var s,l=this;t=Number(t);var o=n.p(i),u=function(v){var N=f(l);return n.w(N.date(N.date()+Math.round(v*t)),l)};if(o===x)return this.set(x,this.$M+t);if(o===M)return this.set(M,this.$y+t);if(o===$)return u(1);if(o===w)return u(7);var m=(s={},s[y]=O,s[b]=T,s[k]=D,s)[o]||1,d=this.$d.getTime()+t*m;return n.w(d,this)},e.subtract=function(t,i){return this.add(-1*t,i)},e.format=function(t){var i=this,s=this.$locale();if(!this.isValid())return s.invalidDate||R;var l=t||"YYYY-MM-DDTHH:mm:ssZ",o=n.z(this),u=this.$H,m=this.$m,d=this.$M,v=s.weekdays,N=s.months,I=function(_,A,nt,K){return _&&(_[A]||_(i,l))||nt[A].slice(0,K)},P=function(_){return n.s(u%12||12,_,"0")},z=s.meridiem||function(_,A,nt){var K=_<12?"AM":"PM";return nt?K.toLowerCase():K},W={YY:String(this.$y).slice(-2),YYYY:this.$y,M:d+1,MM:n.s(d+1,2,"0"),MMM:I(s.monthsShort,d,N,3),MMMM:I(N,d),D:this.$D,DD:n.s(this.$D,2,"0"),d:String(this.$W),dd:I(s.weekdaysMin,this.$W,v,2),ddd:I(s.weekdaysShort,this.$W,v,3),dddd:v[this.$W],H:String(u),HH:n.s(u,2,"0"),h:P(1),hh:P(2),a:z(u,m,!0),A:z(u,m,!1),m:String(m),mm:n.s(m,2,"0"),s:String(this.$s),ss:n.s(this.$s,2,"0"),SSS:n.s(this.$ms,3,"0"),Z:o};return l.replace(et,function(_,A){return A||W[_]||o.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,i,s){var l,o=n.p(i),u=f(t),m=(u.utcOffset()-this.utcOffset())*O,d=this-u,v=n.m(this,u);return v=(l={},l[M]=v/12,l[x]=v,l[J]=v/3,l[w]=(d-m)/6048e5,l[$]=(d-m)/864e5,l[b]=d/T,l[y]=d/O,l[k]=d/D,l)[o]||d,s?v:n.a(v)},e.daysInMonth=function(){return this.endOf(x).$D},e.$locale=function(){return S[this.$L]},e.locale=function(t,i){if(!t)return this.$L;var s=this.clone(),l=j(t,i,!0);return l&&(s.$L=l),s},e.clone=function(){return n.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},a}(),h=r.prototype;return f.prototype=h,[["$ms",H],["$s",k],["$m",y],["$H",b],["$W",$],["$M",x],["$y",M],["$D",L]].forEach(function(a){h[a[1]]=function(e){return this.$g(e,a[0],a[1])}}),f.extend=function(a,e){return a.$i||(a(e,r,f),a.$i=!0),f},f.locale=j,f.isDayjs=U,f.unix=function(a){return f(1e3*a)},f.en=S[E],f.Ls=S,f.p={},f})})(mt);const Lt=mt.exports,Et=pt("OrderStore",{actions:{fetchOrders(F){return wt.get(`/${Mt}`,{params:F})}}});const Nt={class:"d-flex gap-4",style:{"margin-right":"auto"}},At={href:"https://vendor.ecpay.com.tw/User/LogOn_Step1#",target:"_blank"},Yt={href:"https://admin.onewarehouse.net/order/list",target:"_blank"},Rt=c("div",{class:"me-3"},null,-1),jt={class:"d-flex align-center flex-wrap gap-4"},Wt={class:"order-list-filter"},Ht={class:"order-attr-filter"},Ut={class:"order-list-filter"},Pt=c("thead",{class:"text-uppercase"},[c("tr",null,[c("th",{scope:"col",class:"text-center"}," #ID "),c("th",{scope:"col",class:"text-center"}," \u5546\u54C1\u904B\u9001\u985E\u578B "),c("th",{scope:"col",class:"text-center"}," \u7E3D\u91D1\u984D "),c("th",{scope:"col",class:"text-center"}," \u6210\u7ACB\u65E5\u671F "),c("th",{scope:"col",class:"text-center"}," \u8A02\u55AE\u72C0\u614B ")])],-1),zt={class:"text-center"},Bt={class:"text-center"},Ft={class:"text-center"},Jt={class:"text-center"},Zt={class:"text-center"};const qt=c("tr",null,[c("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),Gt=[qt],Kt={class:"text-sm text-disabled"},he={__name:"index",setup(F){const it=Et(),D=V(""),O=V(10),T=V(1),H=V(1),k=V(0),y=V([]),b=V([]),$=V(),w=V(),x=[{title:"\u5F85\u51FA\u8CA8",value:"WAIT_DELIVER"},{title:"\u5DF2\u51FA\u8CA8",value:"WAIT_RECEIVE"},{title:"\u5DF2\u9000\u8CA8",value:"REVOKED"}],J=V(!1),M=V(),L=yt();vt(async()=>{await Z()});const R=ot(()=>{let n=y.value;return D.value&&(n=n==null?void 0:n.filter(r=>{var h;return(h=r==null?void 0:r.id)==null?void 0:h.toLowerCase().includes(D.value.toLowerCase())})),$.value&&(n=n==null?void 0:n.filter(r=>E(r==null?void 0:r.orderStatus)===$.value)),w.value&&(n=n==null?void 0:n.filter(r=>G(r==null?void 0:r.attribute)===w.value)),n=n.map(r=>({...r,createdAt:S(r.createdAt),orderStatus:E(r.orderStatus),attribute:G(r.attribute)})),n});async function Z(){it.fetchOrders({take:200}).then(n=>{y.value=n.data.data}).catch(n=>{console.log(n)})}const et=ot(()=>{const n=y.value.length?(T.value-1)*O.value+1:0,r=y.value.length+(T.value-1)*O.value;return`Showing ${n} to ${r} of ${k.value} entries`});function rt(n){M.value=n,J.value=!0}function q(n){L.push({path:"/apps/product/edit",query:{id:n.id}})}function G(n){return n==="GENERAL"?"\u4E00\u822C":"\u51B7\u93C8"}function E(n){switch(n){case"WAIT_PAYMENT":return"\u5F85\u4ED8\u6B3E";case"WAIT_DELIVER":return"\u5F85\u51FA\u8CA8";case"WAIT_RECEIVE":return"\u5DF2\u51FA\u8CA8";case"COMPLETED":return"\u5DF2\u5B8C\u6210";case"CANCELLED":return"\u5DF2\u53D6\u6D88";case"REVOKED":return"\u5DF2\u9000\u8CA8";default:return n}}function S(n){return Lt(n).format("YYYY/MM/DD A hh:mm")}function U(){j(R.value)}function j(n){const r=Object.keys(n[0]).join(",")+`
`,h=n.map(i=>Object.values(i).join(",")).join(`
`),a="data:text/csv;charset=utf-8,"+r+h,e=encodeURI(a),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","data.csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}async function f(n,r){console.log("CALL API, ",n,r),await Z()}return(n,r)=>C(R)?(Q(),$t(xt,{key:0,id:"user-list"},{default:g(()=>[p(st,{class:"d-flex flex-end flex-wrap gap-4 justify-end"},{default:g(()=>[c("div",Nt,[c("a",At,[p(tt,{color:"success","prepend-icon":"tabler-external-link"},{default:g(()=>[B(" \u7DA0\u754C\u8A02\u55AE\u7BA1\u7406 ")]),_:1})]),c("a",Yt,[p(tt,{color:"success","prepend-icon":"tabler-external-link"},{default:g(()=>[B(" \u7269\u6D41\u7BA1\u7406 ")]),_:1})])]),p(tt,{"prepend-icon":"tabler-file-export",onClick:U},{default:g(()=>[B(" \u8F38\u51FA\u5831\u8868 ")]),_:1})]),_:1}),p(st,{class:"d-flex align-center flex-wrap gap-4"},{default:g(()=>[Rt,p(dt),c("div",jt,[c("div",Wt,[p(Dt,{modelValue:C(D),"onUpdate:modelValue":r[0]||(r[0]=h=>X(D)?D.value=h:null),style:{width:"160px"},placeholder:"\u641C\u5C0B\u8A02\u55AE #ID",density:"compact"},null,8,["modelValue"])]),c("div",Ht,[p(ft,{modelValue:C(w),"onUpdate:modelValue":r[1]||(r[1]=h=>X(w)?w.value=h:null),style:{width:"160px"},label:"\u904B\u9001\u985E\u578B",clearable:"","clear-icon":"tabler-x","single-line":"",items:["\u4E00\u822C","\u51B7\u93C8"]},null,8,["modelValue"])]),c("div",Ut,[p(ft,{modelValue:C($),"onUpdate:modelValue":r[2]||(r[2]=h=>X($)?$.value=h:null),style:{width:"160px"},label:"\u8A02\u55AE\u72C0\u614B",clearable:"","clear-icon":"tabler-x","single-line":"",items:["\u5F85\u4ED8\u6B3E","\u5F85\u51FA\u8CA8","\u5F85\u53D6\u8CA8","\u5DF2\u5B8C\u6210","\u5DF2\u53D6\u6D88","\u5DF2\u9000\u8CA8"]},null,8,["modelValue"])])])]),_:1}),p(ht),p(bt,{class:"text-no-wrap order-list-table"},{default:g(()=>{var h;return[Pt,c("tbody",null,[(Q(!0),at(ut,null,lt(C(R),a=>(Q(),at("tr",{key:a.id,style:{height:"3.75rem"}},[c("td",zt,Y(a==null?void 0:a.id),1),c("td",Bt,Y(a==null?void 0:a.attribute),1),c("td",Ft," $"+Y(a==null?void 0:a.price),1),c("td",Jt,Y(a==null?void 0:a.createdAt),1),c("td",Zt,[p(It,null,{activator:g(({props:e})=>[p(tt,Vt({color:"primary"},e),{default:g(()=>[B(Y(a==null?void 0:a.orderStatus),1)]),_:2},1040)]),default:g(()=>[p(Ct,null,{default:g(()=>[(Q(),at(ut,null,lt(x,e=>p(Ot,{key:e.title,value:"edit",onClick:t=>f(a,e.value)},{default:g(()=>[p(Tt,null,{default:g(()=>[B(Y(e.title),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),_:2},1024)]),ct("",!0)]))),128))]),_t(c("tfoot",null,Gt,512),[[gt,!((h=C(y))!=null&&h.length)]])]}),_:1}),p(ht),p(st,{class:"d-flex align-center flex-wrap gap-4 py-3"},{default:g(()=>[c("span",Kt,Y(C(et)),1),p(dt),p(St,{modelValue:C(T),"onUpdate:modelValue":r[5]||(r[5]=h=>X(T)?T.value=h:null),size:"small","total-visible":5,length:C(H),onNext:r[6]||(r[6]=h=>b.value=[]),onPrev:r[7]||(r[7]=h=>b.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})):ct("",!0)}};export{he as default};
