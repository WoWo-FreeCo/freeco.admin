import{a as c}from"./axios.364130a5.js";const i="https://api.wowo.tw",d=c.create({baseURL:i,timeout:3e4,headers:{"Content-Type":"application/json"}});d.interceptors.request.use(async t=>{const e=localStorage.getItem("at");return t!=null&&t.headers&&(t.headers["Access-Control-Allow-Origin"]="*",e&&(t.headers.Authorization=`Bearer ${e}`)),t},t=>{Promise.reject(t)});d.interceptors.response.use(t=>t,async t=>{var s;const e=localStorage.getItem("at");if(t.response&&t.response.status===401&&e){try{const r=await fetch(`${i}/api/v1/admin/user/refresh`,{method:"post",headers:new Headers({authorization:`Bearer ${localStorage.getItem("at")}`})}),{accessToken:o}=await r.json();return localStorage.setItem("at",o),(!t.config||!o)&&n(),(s=t.config)!=null&&s.headers&&(t.config.headers.Authorization=`Bearer ${o}`),c(t.config)}catch{}n()}return Promise.reject(t)});function n(){localStorage.removeItem("at"),setTimeout(()=>{location.reload()},500)}const a="api/v1",m=`${a}/admin/order`,p=`${a}/admin/normal-user/profile`,u=t=>`${a}/product?categoryId=${t}`,$=`${a}/product`,_=`${a}/product-category`,D=t=>`${a}/product/${t}/detail`,E=`${a}/admin/user/login`,O=`${a}/admin/product`,P=`${a}/image`,l=`${a}/admin/product-category`,R=t=>`${a}/admin/product/${t}`,A=t=>`${a}/admin/product-category/${t}`,U=t=>`${a}/admin/product/${t}/markdownInfos`,C=t=>`${a}/admin/product/${t}/images`,g=t=>`${a}/admin/product/${t}`,h=t=>`${a}/admin/product-category/${t}`;export{E as A,g as D,p as G,P,A as U,d as a,O as b,$ as c,u as d,_ as e,D as f,h as g,l as h,R as i,U as j,C as k,m as l};
