import{k as c,aM as F,a6 as k,ay as M,q as i,o as n,b as d,w as f,p as s,m as e,ba as g,bj as C,c as N,a as R,F as A,$ as G,a0 as j,x as _,be as q,b7 as L,j as O,V as m}from"./index.765b4f7c.js";import{_ as Y}from"./ConfirmDialog.ac9655dc.js";import{a as Q,D as H}from"./requestURL.e234a58b.js";import{u as J}from"./userStore.74503140.js";import{V as D}from"./VSpacer.52c5364c.js";import{V as K}from"./VTextField.d4c5c89c.js";import{V as T}from"./scopeId.fa70d95f.js";import{V as W,a as X}from"./VTable.cc1447c2.js";import"./VBtn.bed821b9.js";import"./VMenu.a10eb0bc.js";import"./VList.cee23a0a.js";import"./VDialog.6034821f.js";import"./forwardRefs.54bb1675.js";import"./axios.364130a5.js";import"./index.5e39d728.js";const Z=e("div",{class:"me-3"},null,-1),ee={class:"d-flex align-center flex-wrap gap-4"},te={class:"invoice-list-filter"},ae=e("thead",{class:"text-uppercase"},[e("tr",null,[e("th",{scope:"col",class:"text-center"}," \u540D\u7A31 "),e("th",{scope:"col",class:"text-center"}," \u7528\u6236\u7B49\u7D1A "),e("th",{scope:"col",class:"text-center"}," Email "),e("th",{scope:"col",class:"text-center"}," \u7D05\u5229\u9EDE\u6578 "),e("th",{scope:"col",class:"text-center"}," FB\u7D81\u5B9A "),e("th",{scope:"col",class:"text-center"}," IG\u7D81\u5B9A "),e("th",{scope:"col",class:"text-center"}," YT\u7D81\u5B9A ")])],-1),oe={class:"text-center"},le={class:"text-center"},se={class:"text-center"},ce={class:"text-center"},ne={class:"text-center"},ie={class:"text-center"},re={class:"text-center"};const de=e("tr",null,[e("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),ue=[de],me={class:"text-sm text-disabled"},Ee={__name:"index",setup(pe){const z=J(),p=c(""),w=c(10),r=c(1),h=c(1),P=c(0),u=c([]),b=c([]),V=c(!1),v=c(),$=O();F(async()=>{await I()});const y=k(()=>{var o;return p.value?(o=u.value)==null?void 0:o.filter(a=>{var x;return(x=a==null?void 0:a.nickname)==null?void 0:x.toLowerCase().includes(p.value.toLowerCase())}):u.value});M(()=>{r.value>h.value&&(r.value=h.value)});async function I(){z.fetchUsers({}).then(o=>{u.value=o.data.data}).catch(o=>{console.log(o)})}const B=k(()=>{const o=u.value.length?(r.value-1)*w.value+1:0,a=u.value.length+(r.value-1)*w.value;return`Showing ${o} to ${a} of ${P.value} entries`});function _e(o){v.value=o,V.value=!0}function Ve(o){$.push({path:"/apps/product/edit",query:{id:o.id}})}async function S(o){if(o)try{console.log(v.value),await Q.delete(`/${H(v.value.id)}`),I()}catch(a){console.log(a)}}function U(o){switch(o){case"SVIP":return"SVIP";case"VIP":return"VIP";default:return"\u4E00\u822C\u6703\u54E1"}}return(o,a)=>{const x=Y;return i(y)?(n(),d(q,{key:0,id:"user-list"},{default:f(()=>[s(C,{class:"d-flex align-center flex-wrap gap-4"},{default:f(()=>[Z,s(D),e("div",ee,[e("div",te,[s(K,{modelValue:i(p),"onUpdate:modelValue":a[0]||(a[0]=l=>g(p)?p.value=l:null),style:{width:"140px"},placeholder:"\u641C\u5C0B\u7528\u6236\u540D\u7A31",density:"compact"},null,8,["modelValue"])])])]),_:1}),s(T),s(W,{class:"text-no-wrap invoice-list-table"},{default:f(()=>{var l;return[ae,e("tbody",null,[(n(!0),N(A,null,R(i(y),t=>(n(),N("tr",{key:t.id,style:{height:"3.75rem"}},[e("td",oe,_(t==null?void 0:t.nickname),1),e("td",le,_(U(t==null?void 0:t.memberLevel)),1),e("td",se,_(t.email),1),e("td",ce,_(t==null?void 0:t.rewardCredit),1),e("td",ne,[t!=null&&t.FacebookGroupActivated?(n(),d(m,{key:0,color:"success",size:22,icon:"tabler-circle-check"})):(n(),d(m,{key:1,color:"error",size:22,icon:"tabler-circle-x"}))]),e("td",ie,[t!=null&&t.IGFollowActivated?(n(),d(m,{key:0,color:"success",size:22,icon:"tabler-circle-check"})):(n(),d(m,{key:1,color:"error",size:22,icon:"tabler-circle-x"}))]),e("td",re,[t!=null&&t.YouTubeChannelActivated?(n(),d(m,{key:0,color:"success",size:22,icon:"tabler-circle-check"})):(n(),d(m,{key:1,color:"error",size:22,icon:"tabler-circle-x"}))]),L("",!0)]))),128))]),G(e("tfoot",null,ue,512),[[j,!((l=i(u))!=null&&l.length)]])]}),_:1}),s(T),s(C,{class:"d-flex align-center flex-wrap gap-4 py-3"},{default:f(()=>[e("span",me,_(i(B)),1),s(D),s(X,{modelValue:i(r),"onUpdate:modelValue":a[3]||(a[3]=l=>g(r)?r.value=l:null),size:"small","total-visible":5,length:i(h),onNext:a[4]||(a[4]=l=>b.value=[]),onPrev:a[5]||(a[5]=l=>b.value=[])},null,8,["modelValue","length"])]),_:1}),s(x,{isDialogVisible:i(V),"onUpdate:isDialogVisible":a[6]||(a[6]=l=>g(V)?V.value=l:null),"confirmation-msg":"\u78BA\u5B9A\u8981\u522A\u9664\u9078\u64C7\u7684\u5546\u54C1\uFF1F",onConfirm:S},null,8,["isDialogVisible"])]),_:1})):L("",!0)}}};export{Ee as default};
