import{bj as M,k as c,aM as R,a6 as C,ay as A,q as i,o as n,b as d,w as x,p as s,m as e,ba as g,bk as N,c as D,a as j,F as q,$ as O,a0 as Y,x as _,be as Q,b7 as L,j as H,V as m}from"./index.3e6756d9.js";import{_ as J}from"./ConfirmDialog.39e94147.js";import{a as S,G as K,D as W}from"./requestURL.e8351c03.js";import{V as T}from"./VSpacer.999620d4.js";import{V as X}from"./VTextField.a98f3cc5.js";import{V as z}from"./scopeId.92fb2811.js";import{V as Z,a as ee}from"./VTable.fbb70427.js";import"./VBtn.a3be8285.js";import"./VMenu.a331d1d3.js";import"./VList.ce2db9d6.js";import"./VDialog.f7c7f582.js";import"./forwardRefs.54bb1675.js";import"./axios.364130a5.js";import"./index.9410a6e6.js";const te=M("UserStore",{actions:{fetchUsers(w){return S.get(`/${K}?take=200`,{params:w})}}});const ae=e("div",{class:"me-3"},null,-1),oe={class:"d-flex align-center flex-wrap gap-4"},le={class:"invoice-list-filter"},se=e("thead",{class:"text-uppercase"},[e("tr",null,[e("th",{scope:"col",class:"text-center"}," \u540D\u7A31 "),e("th",{scope:"col",class:"text-center"}," \u7528\u6236\u7B49\u7D1A "),e("th",{scope:"col",class:"text-center"}," Email "),e("th",{scope:"col",class:"text-center"}," \u7D05\u5229\u9EDE\u6578 "),e("th",{scope:"col",class:"text-center"}," FB\u7D81\u5B9A "),e("th",{scope:"col",class:"text-center"}," IG\u7D81\u5B9A "),e("th",{scope:"col",class:"text-center"}," YT\u7D81\u5B9A ")])],-1),ce={class:"text-center"},ne={class:"text-center"},ie={class:"text-center"},re={class:"text-center"},de={class:"text-center"},ue={class:"text-center"},me={class:"text-center"};const pe=e("tr",null,[e("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),_e=[pe],Ve={class:"text-sm text-disabled"},Fe={__name:"index",setup(w){const P=te(),p=c(""),b=c(10),r=c(1),h=c(1),U=c(0),u=c([]),y=c([]),V=c(!1),v=c(),$=H();R(async()=>{await I()});const k=C(()=>{var o;return p.value?(o=u.value)==null?void 0:o.filter(a=>{var f;return(f=a==null?void 0:a.nickname)==null?void 0:f.toLowerCase().includes(p.value.toLowerCase())}):u.value});A(()=>{r.value>h.value&&(r.value=h.value)});async function I(){P.fetchUsers({}).then(o=>{u.value=o.data.data}).catch(o=>{console.log(o)})}const B=C(()=>{const o=u.value.length?(r.value-1)*b.value+1:0,a=u.value.length+(r.value-1)*b.value;return`Showing ${o} to ${a} of ${U.value} entries`});function fe(o){v.value=o,V.value=!0}function xe(o){$.push({path:"/apps/product/edit",query:{id:o.id}})}async function E(o){if(o)try{console.log(v.value),await S.delete(`/${W(v.value.id)}`),I()}catch(a){console.log(a)}}function F(o){switch(o){case"SVIP":return"SVIP";case"VIP":return"VIP";default:return"\u4E00\u822C\u6703\u54E1"}}return(o,a)=>{const f=J;return i(k)?(n(),d(Q,{key:0,id:"user-list"},{default:x(()=>[s(N,{class:"d-flex align-center flex-wrap gap-4"},{default:x(()=>[ae,s(T),e("div",oe,[e("div",le,[s(X,{modelValue:i(p),"onUpdate:modelValue":a[0]||(a[0]=l=>g(p)?p.value=l:null),style:{width:"140px"},placeholder:"\u641C\u5C0B\u7528\u6236\u540D\u7A31",density:"compact"},null,8,["modelValue"])])])]),_:1}),s(z),s(Z,{class:"text-no-wrap invoice-list-table"},{default:x(()=>{var l;return[se,e("tbody",null,[(n(!0),D(q,null,j(i(k),t=>(n(),D("tr",{key:t.id,style:{height:"3.75rem"}},[e("td",ce,_(t==null?void 0:t.nickname),1),e("td",ne,_(F(t==null?void 0:t.memberLevel)),1),e("td",ie,_(t.email),1),e("td",re,_(t==null?void 0:t.rewardCredit),1),e("td",de,[t!=null&&t.FacebookGroupActivated?(n(),d(m,{key:0,color:"success",size:22,icon:"tabler-circle-check"})):(n(),d(m,{key:1,color:"error",size:22,icon:"tabler-circle-x"}))]),e("td",ue,[t!=null&&t.IGFollowActivated?(n(),d(m,{key:0,color:"success",size:22,icon:"tabler-circle-check"})):(n(),d(m,{key:1,color:"error",size:22,icon:"tabler-circle-x"}))]),e("td",me,[t!=null&&t.YouTubeChannelActivated?(n(),d(m,{key:0,color:"success",size:22,icon:"tabler-circle-check"})):(n(),d(m,{key:1,color:"error",size:22,icon:"tabler-circle-x"}))]),L("",!0)]))),128))]),O(e("tfoot",null,_e,512),[[Y,!((l=i(u))!=null&&l.length)]])]}),_:1}),s(z),s(N,{class:"d-flex align-center flex-wrap gap-4 py-3"},{default:x(()=>[e("span",Ve,_(i(B)),1),s(T),s(ee,{modelValue:i(r),"onUpdate:modelValue":a[3]||(a[3]=l=>g(r)?r.value=l:null),size:"small","total-visible":5,length:i(h),onNext:a[4]||(a[4]=l=>y.value=[]),onPrev:a[5]||(a[5]=l=>y.value=[])},null,8,["modelValue","length"])]),_:1}),s(f,{isDialogVisible:i(V),"onUpdate:isDialogVisible":a[6]||(a[6]=l=>g(V)?V.value=l:null),"confirmation-msg":"\u78BA\u5B9A\u8981\u522A\u9664\u9078\u64C7\u7684\u5546\u54C1\uFF1F",onConfirm:E},null,8,["isDialogVisible"])]),_:1})):L("",!0)}}};export{Fe as default};
