import{k as c,ay as N,a6 as h,aH as P,q as u,o as p,b as S,w as l,p as e,bj as V,m as t,c as g,a as z,F as B,$ as T,a0 as R,x as d,ba as W,be as j,b7 as q,j as E,V as y,z as F}from"./index.814ba5dc.js";import{u as M}from"./webpageStore.e3258bf1.js";import{V as k}from"./VSpacer.32b7e6c3.js";import{V as C}from"./VDivider.4f08e55f.js";import{V as H}from"./VTable.e85ebe62.js";import{V as Q}from"./VPagination.dd4f66aa.js";import{V as U}from"./VBtn.15cc7225.js";import{V as A}from"./VMenu.f86191f5.js";import{V as G,a as J,b as K}from"./VList.3902500a.js";import"./requestURL.4ab77af1.js";import"./axios.364130a5.js";import"./forwardRefs.54bb1675.js";import"./scopeId.490f9154.js";import"./index.c82ae7fd.js";const O=t("div",{class:"me-3"},null,-1),X=t("div",{class:"d-flex align-center flex-wrap gap-4"},null,-1),Y=t("thead",{class:"text-uppercase"},[t("tr",null,[t("th",{scope:"col",class:"text-center"}," #ID "),t("th",{scope:"col",class:"text-center"}," \u9801\u5C3E\u540D\u7A31 "),t("th",{scope:"col",class:"text-center"}," \u5167\u5BB9 "),t("th",{scope:"col",class:"text-center"}," \u64CD\u4F5C ")])],-1),Z={class:"text-center"},tt={class:"text-center"},et={class:"text-center row-content"},at={style:{width:"3rem"}},st=t("tr",null,[t("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),ot=[st],lt={class:"text-sm text-disabled"},kt={__name:"index",setup(nt){const b=M(),f=c(""),_=c(10),r=c(1),m=c(1),I=c(0),i=c([]),v=c([]);c(!1),c();const $=E();N(async()=>{await w()});const x=h(()=>{var a;return f.value?(a=i.value)==null?void 0:a.filter(s=>{var n;return(n=s==null?void 0:s.nickname)==null?void 0:n.toLowerCase().includes(f.value.toLowerCase())}):i.value});P(()=>{r.value>m.value&&(r.value=m.value)});async function w(){b.fetchWebpages({}).then(a=>{console.log(a),i.value=a.data.content,console.log(i.value)}).catch(a=>{console.log(a)})}const D=h(()=>{const a=i.value.length?(r.value-1)*_.value+1:0,s=i.value.length+(r.value-1)*_.value;return`Showing ${a} to ${s} of ${I.value} entries`});function L(a){$.push({path:"/apps/webpage/edit",query:{id:a.id}})}return(a,s)=>u(x)?(p(),S(j,{key:0,id:"webpage-list"},{default:l(()=>[e(V,{class:"d-flex align-center flex-wrap gap-4"},{default:l(()=>[O,e(k),X]),_:1}),e(C),e(H,{class:"text-no-wrap invoice-list-table"},{default:l(()=>{var n;return[Y,t("tbody",null,[(p(!0),g(B,null,z(u(x),o=>(p(),g("tr",{key:o.id,style:{height:"3.75rem"}},[t("td",Z,d(o==null?void 0:o.id),1),t("td",tt,d(o==null?void 0:o.name),1),t("td",et,d(o==null?void 0:o.content),1),t("td",at,[e(U,{icon:"",variant:"text",color:"primary",size:"x-small"},{default:l(()=>[e(y,{size:22,icon:"tabler-dots-vertical"}),e(A,{activator:"parent"},{default:l(()=>[e(G,null,{default:l(()=>[e(J,{value:"edit",onClick:ct=>L(o)},{prepend:l(()=>[e(y,{color:"success",size:"24",class:"me-3",icon:"tabler-pencil"})]),default:l(()=>[e(K,null,{default:l(()=>[F("\u7DE8\u8F2F")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),T(t("tfoot",null,ot,512),[[R,!((n=u(i))!=null&&n.length)]])]}),_:1}),e(C),e(V,{class:"d-flex align-center flex-wrap gap-4 py-3"},{default:l(()=>[t("span",lt,d(u(D)),1),e(k),e(Q,{modelValue:u(r),"onUpdate:modelValue":s[0]||(s[0]=n=>W(r)?r.value=n:null),size:"small","total-visible":5,length:u(m),onNext:s[1]||(s[1]=n=>v.value=[]),onPrev:s[2]||(s[2]=n=>v.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})):q("",!0)}};export{kt as default};
