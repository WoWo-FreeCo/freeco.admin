import{y as w,k as a,ay as k,o as I,b as P,w as r,p as s,q as d,z as f,bo as R,bp as T,j as q}from"./index.814ba5dc.js";import{a as B,j as D}from"./requestURL.4ab77af1.js";import{u as F}from"./prodStore.82a1e4b7.js";import{V as m}from"./VCol.64655a44.js";import{V as S}from"./VTextField.4b3881bb.js";import{V as _}from"./VBtn.15cc7225.js";import{V as U}from"./VRow.116d4872.js";import{V as j}from"./VForm.e0345dcf.js";import"./axios.364130a5.js";import"./index.c82ae7fd.js";import"./forwardRefs.54bb1675.js";const z={__name:"index",setup(A){const y=a(),V=F(),v={name:""};a(!1),a(""),a({});const o=a(v),l=a([]),c=a(),g=T(),u=q();k(async()=>{await i()});async function i(){try{const t=await V.fetchProductCategory();l.value=t.data.data,h()}catch(t){console.log(t)}}async function x(){try{if(!o.value.name)return alert("\u8ACB\u8F38\u5165\u5546\u54C1\u5206\u985E\u540D\u7A31");const t={...o.value};await B.put(`/${D(c.value.id)}`,t),alert("\u5DF2\u66F4\u65B0\u5546\u54C1\u5206\u985E"),u.push({path:"/apps/product-category/list"})}catch(t){console.log(t)}}function h(){var n,p;const t=(n=g.query)==null?void 0:n.id;if(!t)return u.push({path:"/apps/product-category/list"});const e=(p=l.value)==null?void 0:p.find(b=>b.id==t);if(!e)return u.push({path:"/apps/product-category/list"});c.value=e,o.value={...o.value,name:e.name}}function C(){i()}return(t,e)=>(I(),P(j,{ref_key:"form",ref:y,"lazy-validation":"",onSubmit:e[1]||(e[1]=R(()=>{},["prevent"]))},{default:r(()=>[s(U,null,{default:r(()=>[s(m,{cols:"12"},{default:r(()=>[s(S,{modelValue:d(o).name,"onUpdate:modelValue":e[0]||(e[0]=n=>d(o).name=n),label:"\u5546\u54C1\u5206\u985E\u540D\u7A31",required:"",placeholder:""},null,8,["modelValue"])]),_:1}),s(m,{cols:"12",class:"d-flex gap-4"},{default:r(()=>[s(_,{type:"submit",onClick:x},{default:r(()=>[f(" \u66F4\u65B0 ")]),_:1}),s(_,{color:"secondary",variant:"tonal",onClick:C},{default:r(()=>[f(" \u5FA9\u539F\u8CC7\u6599 ")]),_:1})]),_:1})]),_:1})]),_:1},512))}},Q=w(z,[["__scopeId","data-v-4cf07adf"]]);export{Q as default};
